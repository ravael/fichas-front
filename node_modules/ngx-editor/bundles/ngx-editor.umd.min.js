!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("prosemirror-model"),require("ngx-editor/schema"),require("rxjs"),require("@angular/common"),require("prosemirror-commands"),require("ngx-editor/commands"),require("ngx-editor/helpers"),require("prosemirror-schema-list"),require("prosemirror-state"),require("@angular/platform-browser"),require("prosemirror-view"),require("ngx-editor/plugins"),require("ngx-editor/utils"),require("prosemirror-keymap"),require("prosemirror-history"),require("prosemirror-inputrules")):"function"==typeof define&&define.amd?define("ngx-editor",["exports","@angular/core","@angular/forms","prosemirror-model","ngx-editor/schema","rxjs","@angular/common","prosemirror-commands","ngx-editor/commands","ngx-editor/helpers","prosemirror-schema-list","prosemirror-state","@angular/platform-browser","prosemirror-view","ngx-editor/plugins","ngx-editor/utils","prosemirror-keymap","prosemirror-history","prosemirror-inputrules"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-editor"]={},t.ng.core,t.ng.forms,t.prosemirrorModel,t["ngx-editor"].schema,t.rxjs,t.ng.common,t.prosemirrorCommands,t["ngx-editor"].commands,t["ngx-editor"].helpers,t.prosemirroSchemaList,t.prosemirrorState,t.ng.platformBrowser,t.prosemirrorView,t["ngx-editor"].plugins,t["ngx-editor"].utils,t.prosemirrorKeymap,t.prosemirrorHistory,t.prosemirrorInputRules)}(this,(function(t,e,o,n,r,i,s,a,c,p,l,u,d,h,g,f,m,v,x){"use strict";var b={type:"doc",content:[{type:"paragraph"}]},_=function(t,e){var o=null!=e?e:r.schema,i=o.nodeFromJSON(t),s=n.DOMSerializer.fromSchema(o).serializeFragment(i.content),a=document.createElement("div");return a.appendChild(s),a.innerHTML},y=function(t,e){var o=null!=e?e:r.schema,i=document.createElement("div");return i.innerHTML=t,n.DOMParser.fromSchema(o).parse(i).toJSON()},w=function(t,e){if(!t)return e.nodeFromJSON(b);if("string"!=typeof t)return e.nodeFromJSON(t);var o=y(t,e);return e.nodeFromJSON(o)},E=function(){function t(t){this.renderer=t,this.placeholder="Type Here...",this.enabled=!0,this.focusOut=new e.EventEmitter,this.focusIn=new e.EventEmitter,this.subscriptions=[],this.onChange=function(){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.outputFormat||"string"!=typeof t||(this.outputFormat="html"),this.editor.setContent(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.handleChange=function(t){if("html"!==this.outputFormat)this.onChange(t);else{var e=_(t,this.editor.schema);this.onChange(e)}},t.prototype.ngOnInit=function(){var t=this;if(!this.editor)throw new Error("NgxEditor: Required editor instance");this.enabled?this.editor.enable():this.editor.disable(),this.editor.setPlaceholder(this.placeholder),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.el);var e=this.editor.onContentChange.subscribe((function(e){t.handleChange(e)})),o=this.editor.onBlur.subscribe((function(){t.focusOut.emit(),t.onTouched()})),n=this.editor.onFocus.subscribe((function(){t.focusIn.emit()}));this.subscriptions.push(e,o,n)},t.prototype.ngOnChanges=function(t){(null==t?void 0:t.placeholder)&&!t.placeholder.isFirstChange()&&this.editor.setPlaceholder(t.placeholder.currentValue),(null==t?void 0:t.editable)&&!t.editable.isFirstChange()&&(t.editable.currentValue?this.editor.enable():this.editor.disable())},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){t.unsubscribe()})),this.editor.destroy()},t}();E.decorators=[{type:e.Component,args:[{selector:"ngx-editor",template:'<div class="NgxEditor" #ngxEditor>\n  <ngx-bubble [editor]="editor"></ngx-bubble>\n</div>\n',providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return E})),multi:!0}],encapsulation:e.ViewEncapsulation.None,styles:['.NgxEditor{background:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:4px;color:#000;overflow:hidden;position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:#6c757d;cursor:text;opacity:1;position:absolute;user-select:none}.NgxEditor__Content{font-feature-settings:"liga" 0;font-variant-ligatures:none;outline:none;padding:.5rem;white-space:pre-wrap}.NgxEditor__Content p{margin:0 0 .7rem}.NgxEditor__Content blockquote{border-left:3px solid #ddd;margin-left:0;margin-right:0;padding-left:1rem}.NgxEditor__Content--Disabled{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;pointer-events:none;user-select:none}.NgxEditor__ImageWrapper{display:inline-block;line-height:0;padding:2px;position:relative}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active{border:1px solid #1a73e8;padding:1px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle{display:none;height:100%;position:absolute;width:100%}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{background-color:#1a73e8;border:1px solid #fff;height:7px;position:absolute;width:7px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{bottom:-5px;cursor:se-resize;right:-5px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{cursor:ne-resize;right:-5px;top:-5px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL{cursor:nw-resize;left:-5px;top:-5px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL{bottom:-5px;cursor:sw-resize;left:-5px}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-bottom:1px solid rgba(0,0,0,.2);border-top-left-radius:4px;border-top-right-radius:4px}.NgxEditor__Wrapper .NgxEditor{border:none;border-top-left-radius:0;border-top-right-radius:0}']}]}],E.ctorParameters=function(){return[{type:e.Renderer2}]},E.propDecorators={ngxEditor:[{type:e.ViewChild,args:["ngxEditor",{static:!0}]}],editor:[{type:e.Input}],outputFormat:[{type:e.Input}],placeholder:[{type:e.Input}],enabled:[{type:e.Input}],focusOut:[{type:e.Output}],focusIn:[{type:e.Output}]};Object.create;function N(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}function k(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N(arguments[e]));return t}var I;Object.create;var C=function(){function t(){I.set(this,void 0),this.customMenuRefChange=new i.Subject,this.plugin={update:new i.Subject,destroy:new i.Subject}}return Object.defineProperty(t.prototype,"view",{get:function(){return function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(this,I)},set:function(t){!function(t,e,o){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");e.set(t,o)}(this,I,t)},enumerable:!1,configurable:!0}),t.prototype.setCustomMenuRef=function(t){this.customMenuRefChange.next(t)},t}();I=new WeakMap,C.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new C},token:C,providedIn:"root"}),C.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],C.ctorParameters=function(){return[]};var M=[["bold","italic"],["code","blockquote"],["underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],H=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],P=function(){function t(t){this.menuService=t,this.toolbar=M,this.colorPresets=H,this.disabled=!1,this.customMenuRef=null,this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}return Object.defineProperty(t.prototype,"presets",{get:function(){var t=[];return this.colorPresets.forEach((function(e,o){var n=Math.floor(o/8);t[n]||t.push([]),t[n].push(e)})),t},enumerable:!1,configurable:!0}),t.prototype.isDropDown=function(t){var e;return!!(null===(e=t)||void 0===e?void 0:e.heading)},t.prototype.getDropdownItems=function(t){return t},t.prototype.ngOnInit=function(){var t=this;if(!this.editor)throw new Error("NgxEditor: Required editor instance");this.menuService.view=this.editor.view,this.updateSubscription=this.editor.onUpdate.subscribe((function(){t.menuService.plugin.update.next(t.editor.view)}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},t}();P.decorators=[{type:e.Component,args:[{selector:"ngx-editor-menu",template:'<div class="NgxEditor__MenuBar" [ngClass]="{\'NgxEditor--Disabled\': disabled}">\n\n  <ng-container *ngFor="let toolbarItem of toolbar; let lastToolbarItem = last">\n    <ng-container *ngFor="let item of toolbarItem; let lastItem = last">\n\n      \x3c!-- toggle icons --\x3e\n      <ngx-toggle-command [toolbarItem]="item" [class]="iconContainerClass" *ngIf="toggleCommands.includes(item)">\n      </ngx-toggle-command>\n\n      \x3c!-- link --\x3e\n      <ngx-link [class]="iconContainerClass" *ngIf="item === \'link\'"></ngx-link>\n\n      \x3c!-- image --\x3e\n      <ngx-image [class]="iconContainerClass" *ngIf="item === \'image\'">\n      </ngx-image>\n\n      \x3c!-- dropdown --\x3e\n      <ng-container *ngIf="isDropDown(item)">\n        <ngx-dropdown *ngFor="let dropdownItem of getDropdownItems(item) | keyvalue" [class]="dropdownContainerClass"\n          [group]="dropdownItem.key" [items]="dropdownItem.value">\n        </ngx-dropdown>\n      </ng-container>\n\n      \x3c!-- text color picker --\x3e\n      <ngx-color-picker [class]="iconContainerClass" *ngIf="item === \'text_color\'" type="text_color"\n        [presets]="presets">\n      </ngx-color-picker>\n      \x3c!-- background color picker --\x3e\n      <ngx-color-picker [class]="iconContainerClass" *ngIf="item === \'background_color\'" type="background_color"\n        [presets]="presets">\n      </ngx-color-picker>\n\n      \x3c!-- seperator --\x3e\n      <div [class]="seperatorClass" *ngIf="lastItem && !lastToolbarItem"></div>\n    </ng-container>\n  </ng-container>\n\n  \x3c!-- custom menu --\x3e\n  <ng-container *ngIf="customMenuRef">\n    <ng-container [ngTemplateOutlet]="customMenuRef"></ng-container>\n  </ng-container>\n\n</div>\n',encapsulation:e.ViewEncapsulation.None,styles:['.NgxEditor__MenuBar{cursor:default;display:flex;height:1.85rem;padding:.2rem}.NgxEditor__MenuItem{align-items:center;border-radius:2px;display:flex;flex-shrink:0;justify-content:center;position:relative}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:1.85rem;transition:.3s ease-in-out;width:1.85rem}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 .3rem}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active{background-color:#e8f0fe}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active.NgxEditor__MenuItem--Text{color:#1a73e8}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active svg{fill:#1a73e8}.NgxEditor__Dropdown{align-items:center;display:flex;flex-shrink:0;min-width:4rem;position:relative}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{align-items:center;display:flex;height:100%;justify-content:center;padding:0 .3rem;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{border-bottom:0;border-left:.25rem solid transparent;border-right:.25rem solid transparent;border-top:.25rem solid;content:"";display:inline-block;margin-left:1.5rem;vertical-align:.25rem}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{background-color:#fff;border-radius:4px;box-shadow:0 2px 6px 2px rgba(60,64,67,.15);left:0;position:absolute;top:calc(1.85rem + 2px);width:100%;z-index:10}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{color:inherit;padding:.5rem;white-space:nowrap}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown.NgxEditor__Dropdown--Open,.NgxEditor__Dropdown.NgxEditor__Dropdown--Selected{background-color:#e8f0fe}.NgxEditor__Dropdown.NgxEditor__Dropdown--Open .NgxEditor__Dropdown--Text,.NgxEditor__Dropdown.NgxEditor__Dropdown--Selected .NgxEditor__Dropdown--Text{color:#1a73e8}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__Popup{background-color:#fff;border-radius:4px;box-shadow:0 2px 6px 2px rgba(60,64,67,.15);min-width:12rem;padding:8px;position:absolute;top:calc(1.85rem + 2px);z-index:10}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 .3rem}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}']}]}],P.ctorParameters=function(){return[{type:C}]},P.propDecorators={toolbar:[{type:e.Input}],colorPresets:[{type:e.Input}],disabled:[{type:e.Input}],editor:[{type:e.Input}],customMenuRef:[{type:e.Input}]};var z={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"},D=function(t){var e=this;void 0===t&&(t={}),this.locals=z,this.get=function(t){var o;return null!==(o=e.locals[t])&&void 0!==o?o:""},this.locals=Object.assign({},z,t)},S=function(){this.locals={}};S.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new S},token:S,providedIn:"root"}),S.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}];var L=function(){function t(t){this.config=t}return Object.defineProperty(t.prototype,"locals",{get:function(){return new D(this.config.locals)},enumerable:!1,configurable:!0}),t}();L.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new L(e.ɵɵinject(S,8))},token:L,providedIn:"root"}),L.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],L.ctorParameters=function(){return[{type:S,decorators:[{type:e.Optional}]}]};var T=function(t){var e;return{locals:null!==(e=t.locals)&&void 0!==e?e:{}}},O={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n  <path d="M0 0h24v24H0z" fill="none" />\n',italic:'\n  <path d="M0 0h24v24H0z" fill="none" />\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M0 0h24v24H0V0z" fill="none"/>\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n<path d="M0 0h24v24H0z" fill="none"/>\n',bullet_list:'\n<path d="M0 0h24v24H0V0z" fill="none"/>\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M0 0h24v24H0V0z" fill="none"/>\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n<path d="M0 24V0" fill="none"/>\n',image:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n'},V=function(){function t(){}return t.get=function(t){return'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 24 24"\n        fill="black"\n        height=20\n        width=20\n      >\n        '+(O[t]||"<path></path>")+"\n      </svg>\n    "},t}(),A=function(){function t(t){this.name=t}return t.prototype.apply=function(){var t=this;return function(e,o){var n=e.schema.marks[t.name];return!!n&&c.applyMark(n)(e,o)}},t.prototype.toggle=function(){var t=this;return function(e,o){var n=e.schema.marks[t.name];return!!n&&a.toggleMark(n)(e,o)}},t.prototype.isActive=function(t){var e=t.schema.marks[this.name];return!!e&&p.isMarkActive(t,e)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),R=function(){function t(){}return t.prototype.toggle=function(){var t=this;return function(e,o){var n=e.schema.nodes.blockquote;return!!n&&(t.isActive(e)?a.lift(e,o):a.wrapIn(n)(e,o))}},t.prototype.isActive=function(t){var e=t.schema.nodes.blockquote;return!!e&&p.isNodeActive(t,e)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),j=function(){function t(t){void 0===t&&(t=!1),this.isBulletList=!1,this.isBulletList=t}return t.prototype.getType=function(t){return this.isBulletList?t.nodes.bullet_list:t.nodes.ordered_list},t.prototype.toggle=function(){var t=this;return function(e,o){var n=e.schema,r=t.getType(n);return!!r&&(t.isActive(e)?l.liftListItem(n.nodes.list_item)(e,o):l.wrapInList(r)(e,o))}},t.prototype.isActive=function(t){var e=t.schema,o=this.getType(e);return!!o&&p.isNodeActive(t,o)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),F=function(){function t(t){this.level=t}return t.prototype.apply=function(){return function(t,e){var o=t.schema.nodes.heading;return!!o&&a.setBlockType(o)(t,e)}},t.prototype.toggle=function(){var t=this;return function(e,o){var n,r=e.schema,i=e.selection,s=e.doc,c=r.nodes.heading;if(!c)return!1;var p=i.$from.before(1),l=s.nodeAt(p),u=null!==(n=null==l?void 0:l.attrs)&&void 0!==n?n:{};return t.isActive(e)?a.setBlockType(r.nodes.paragraph,u)(e,o):a.setBlockType(c,Object.assign(Object.assign({},u),{level:t.level}))(e,o)}},t.prototype.isActive=function(t){var e=this,o=t.schema,n=p.getSelectionNodes(t),r=o.nodes.heading;if(!r)return!1;var i=[r,o.nodes.text,o.nodes.blockquote],s=n.filter((function(t){return i.includes(t.type)})).find((function(t){return t.attrs.level===e.level}));return Boolean(s)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),B=function(){function t(t){this.align=t}return t.prototype.toggle=function(){var t=this;return function(e,o){var n=e.doc,r=e.selection,i=e.tr,s=e.schema,a=r.from,c=r.to,p=!1;return n.nodesBetween(a,c,(function(e,o){var n=e.type;return[s.nodes.paragraph,s.nodes.heading].includes(n)&&(p=!0,i.setNodeMarkup(o,n,Object.assign(Object.assign({},e.attrs),{align:t.align}))),!0})),!!p&&(i.docChanged&&(null==o||o(i)),!0)}},t.prototype.isActive=function(t){var e=this,o=p.getSelectionNodes(t).find((function(t){return t.attrs.align===e.align}));return Boolean(o)},t.prototype.canExecute=function(t){return this.toggle()(t)},t}(),q={strict:!0},U=function(){function t(){}return t.prototype.update=function(t){return void 0===t&&(t={}),function(e,o){var n=e.schema,r=e.selection,i=n.marks.link;return!!i&&(!r.empty&&a.toggleMark(i,t)(e,o))}},t.prototype.insert=function(t,e){return function(o,n){var r,i,s=o.schema,a=o.tr;if(!s.marks.link)return!1;var c={href:e.href,title:null!==(r=e.title)&&void 0!==r?r:t,target:null!==(i=e.target)&&void 0!==i?i:"_blank"},p=s.text(t,[s.marks.link.create(c)]);return a.replaceSelectionWith(p,!1).scrollIntoView(),!!a.docChanged&&(null==n||n(a),!0)}},t.prototype.isActive=function(t,e){if(void 0===e&&(e=q),e.strict)return!0;var o=t.schema;return p.isMarkActive(t,o.marks.link)},t.prototype.remove=function(t,e){return c.removeLink()(t,e)},t.prototype.canExecute=function(t){return this.update({})(t)},t}(),$=function(){function t(){}return t.prototype.insert=function(t,e){return function(o,n){var r=o.schema,i=o.tr,s=o.selection,a=r.nodes.image;if(!a)return!1;var c=Object.assign({width:null,src:t},e);!c.width&&s instanceof u.NodeSelection&&s.node.type===a&&(c.width=s.node.attrs.width),i.replaceSelectionWith(a.createAndFill(c));var p=i.doc.resolve(i.selection.anchor-i.selection.$anchor.nodeBefore.nodeSize);return i.setSelection(new u.NodeSelection(p)).scrollIntoView(),!!i.docChanged&&(null==n||n(i),!0)}},t.prototype.isActive=function(t){var e=t.selection;return e instanceof u.NodeSelection&&"image"===e.node.type.name},t}(),W=function(){function t(t){this.name=t}return t.prototype.apply=function(t){var e=this;return function(o,n){var r=o.schema,i=o.selection,s=o.doc,a=r.marks[e.name];if(!a)return!1;var p=i.from,l=i.to;if(!i.empty&&p+1===l){var u=s.nodeAt(p);if((null==u?void 0:u.isAtom)&&!u.isText&&u.isLeaf)return!1}return c.applyMark(a,t)(o,n)}},t.prototype.isActive=function(t){var e=t.schema.marks[this.name];return!!e&&p.isMarkActive(t,e)},t.prototype.getActiveColors=function(t){var e=this;if(!this.isActive(t))return[];var o=t.schema;return p.getSelectionMarks(t).filter((function(t){return t.type===o.marks[e.name]})).map((function(t){return t.attrs.color})).filter(Boolean)},t.prototype.remove=function(){var t=this;return function(e,o){var n=e.schema.marks[t.name];return!!n&&c.removeMark(n)(e,o)}},t.prototype.canExecute=function(t){var e="text_color"===this.name?{color:""}:{backgroundColor:""};return this.apply(e)(t)},t}(),G=new A("strong"),J=new A("em"),Q=new A("code"),X=new A("u"),K=new A("s"),Y=new R,Z=new j(!0),tt=new j(!1),et=new F(1),ot=new F(2),nt=new F(3),rt=new F(4),it=new F(5),st=new F(6),at=new B("left"),ct=new B("center"),pt=new B("right"),lt=new B("justify"),ut=new U,dt=new $,ht=new W("text_color"),gt=new W("text_background_color"),ft={bold:G,italic:J,code:Q,underline:X,strike:K,blockquote:Y,bullet_list:Z,ordered_list:tt,h1:et,h2:ot,h3:nt,h4:rt,h5:it,h6:st,align_left:at,align_center:ct,align_right:pt,align_justify:lt},mt=ut,vt=dt,xt=ht,bt=gt,_t=function(){function t(t,e){var o=this;this.ngxeService=t,this.menuService=e,this.isActive=!1,this.disabled=!1,this.update=function(t){var e=t.state,n=ft[o.name];o.isActive=n.isActive(e),o.disabled=!n.canExecute(e)},this.editorView=this.menuService.view,this.pluginUpdateSubscription=this.menuService.plugin.update.subscribe((function(t){o.update(t)}))}return Object.defineProperty(t.prototype,"name",{get:function(){return this.toolbarItem},enumerable:!1,configurable:!0}),t.prototype.toggle=function(t){if(t.preventDefault(),0===t.button){var e=this.editorView,o=e.state,n=e.dispatch;ft[this.name].toggle()(o,n)}},t.prototype.getTitle=function(t){return this.ngxeService.locals.get(t)},t.prototype.ngOnInit=function(){this.html=V.get(this.name)},t.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},t}();_t.decorators=[{type:e.Component,args:[{selector:"ngx-toggle-command",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="html | sanitizeHtml" (mousedown)="toggle($event)"\n  [title]="getTitle(name)">\n</div>\n',styles:[""]}]}],_t.ctorParameters=function(){return[{type:L},{type:C}]},_t.propDecorators={toolbarItem:[{type:e.Input}],isActive:[{type:e.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:e.HostBinding,args:["class.NgxEditor--Disabled"]}]};var yt=function(){function t(t,e,n){var r=this;this.el=t,this.ngxeService=e,this.menuService=n,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.form=new o.FormGroup({href:new o.FormControl("",[o.Validators.required,o.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),text:new o.FormControl("",[o.Validators.required]),openInNewTab:new o.FormControl(!0)}),this.setText=function(){var t=r.editorView.state,e=t.selection,o=t.doc,n=e.empty,i=e.from,s=e.to,a=n?"":o.textBetween(i,s);a&&(r.text.patchValue(a),r.text.disable())},this.update=function(t){var e=t.state;r.isActive=mt.isActive(e,{strict:!1}),r.canExecute=mt.canExecute(e)},this.editorView=this.menuService.view,this.pluginUpdateSubscription=this.menuService.plugin.update.subscribe((function(t){r.update(t)}))}return Object.defineProperty(t.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return!this.canExecute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return V.get(this.isActive?"unlink":"link")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"href",{get:function(){return this.form.get("href")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.form.get("text")},enumerable:!1,configurable:!0}),t.prototype.onDocumentClick=function(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hideForm()},t.prototype.getLabel=function(t){return this.ngxeService.locals.get(t)},t.prototype.hideForm=function(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()},t.prototype.onMouseDown=function(t){if(t.preventDefault(),0===t.button){var e=this.editorView,o=e.state,n=e.dispatch;this.isActive?mt.remove(o,n):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}},t.prototype.insertLink=function(t){t.preventDefault();var e=this.form.getRawValue(),o=e.text,n=e.href,r=e.openInNewTab,i=this.editorView,s=i.dispatch,a=i.state,c={title:n,href:n,target:r?"_blank":"_self"};a.selection.empty?(mt.insert(o,c)(a,s),this.editorView.focus()):mt.update(c)(a,s),this.hideForm()},t.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},t}();yt.decorators=[{type:e.Component,args:[{selector:"ngx-link",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="onMouseDown($event)">\n</div>\n\n\x3c!-- popup --\x3e\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <form class="NgxEditor__Popup--Form" [formGroup]="form" (ngSubmit)="insertLink($event)">\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'url\')}}</label>\n        <input type="href" id="href" formControlName="href" autofocus autocomplete="off" />\n        <div *ngIf="href.touched && href.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ href.errors?.pattern && \'Please enter valid url.\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'text\')}}</label>\n        <input type="text" formControlName="text" autocomplete="off" />\n        <div *ngIf="text.touched && text.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ text.errors?.required && \'This is required\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label>\n          <input type="checkbox" formControlName="openInNewTab" />\n          {{getLabel(\'openInNewTab\')}}\n        </label>\n      </div>\n    </div>\n\n    <button type="submit" [disabled]="!form.valid">{{getLabel(\'insert\')}}</button>\n\n  </form>\n</div>\n',styles:[""]}]}],yt.ctorParameters=function(){return[{type:e.ElementRef},{type:L},{type:C}]},yt.propDecorators={valid:[{type:e.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:e.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:e.HostListener,args:["document:mousedown",["$event"]]}]};var wt=function(){function t(t,e,o){var n=this;this.ngxeService=t,this.menuService=e,this.el=o,this.isDropdownOpen=!1,this.activeItems=[],this.disabledItems=[],this.update=function(t){var e=t.state;n.activeItems=[],n.disabledItems=[],n.items.forEach((function(t){var o=ft[t];o.isActive(e)&&n.activeItems.push(t),o.canExecute(e)||n.disabledItems.push(t)})),1===n.activeItems.length?n.activeItem=n.activeItems[0]:n.activeItem=null},this.editorView=this.menuService.view,this.pluginUpdateSubscription=this.menuService.plugin.update.subscribe((function(t){n.update(t)}))}return Object.defineProperty(t.prototype,"isSelected",{get:function(){return Boolean(this.activeItem||this.isDropdownOpen)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDropdownDisabled",{get:function(){return this.disabledItems.length===this.items.length},enumerable:!1,configurable:!0}),t.prototype.onDocumentClick=function(t){!this.el.nativeElement.contains(t)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)},t.prototype.getName=function(t){return this.ngxeService.locals.get(t)},t.prototype.toggleDropdown=function(t){t.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen},t.prototype.onClick=function(t,e){if(t.preventDefault(),0===t.button){var o=ft[e],n=this.editorView,r=n.state,i=n.dispatch;o.toggle()(r,i),this.isDropdownOpen=!1}},t.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},t}();wt.decorators=[{type:e.Component,args:[{selector:"ngx-dropdown",template:'<div class="NgxEditor__Dropdown--Text" (mousedown)="toggleDropdown($event)">\n  {{getName(activeItem || group)}}\n</div>\n\n<div class="NgxEditor__Dropdown--DropdownMenu" *ngIf="isDropdownOpen">\n  <div class="NgxEditor__Dropdown--Item" *ngFor="let item of items" (mousedown)="onClick($event, item)"\n    [ngClass]="{\'NgxEditor__Dropdown--Active\': item === activeItem, \'NgxEditor--Disabled\':disabledItems.includes(item)}">\n    {{getName(item)}}\n  </div>\n</div>\n',styles:[""]}]}],wt.ctorParameters=function(){return[{type:L},{type:C},{type:e.ElementRef}]},wt.propDecorators={group:[{type:e.Input}],items:[{type:e.Input}],isSelected:[{type:e.HostBinding,args:["class.NgxEditor__Dropdown--Selected"]}],isDropdownDisabled:[{type:e.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:e.HostListener,args:["document:mousedown",["$event.target"]]}]};var Et=function(){function t(t,e,n){var r=this;this.el=t,this.ngxeService=e,this.menuService=n,this.showPopup=!1,this.isActive=!1,this.form=new o.FormGroup({src:new o.FormControl("",[o.Validators.required,o.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),alt:new o.FormControl(""),title:new o.FormControl("")}),this.update=function(t){var e=t.state;r.isActive=vt.isActive(e)},this.editorView=this.menuService.view,this.pluginUpdateSubscription=this.menuService.plugin.update.subscribe((function(t){r.update(t)}))}return Object.defineProperty(t.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return V.get("image")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this.form.get("src")},enumerable:!1,configurable:!0}),t.prototype.onDocumentClick=function(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hideForm()},t.prototype.getLabel=function(t){return this.ngxeService.locals.get(t)},t.prototype.hideForm=function(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})},t.prototype.onMouseDown=function(t){t.preventDefault(),0===t.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())},t.prototype.fillForm=function(){var t=this.editorView.state.selection;if(t instanceof u.NodeSelection&&this.isActive){var e=t.node.attrs,o=e.src,n=e.alt,r=void 0===n?"":n,i=e.title,s=void 0===i?"":i;this.form.setValue({src:o,alt:r,title:s})}},t.prototype.insertLink=function(t){t.preventDefault();var e=this.form.getRawValue(),o=e.src,n=e.alt,r=e.title,i=this.editorView,s=i.dispatch,a=i.state,c={alt:n,title:r};vt.insert(o,c)(a,s),this.editorView.focus(),this.hideForm()},t.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},t}();Et.decorators=[{type:e.Component,args:[{selector:"ngx-image",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="onMouseDown($event)">\n</div>\n\n\x3c!-- popup --\x3e\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <form class="NgxEditor__Popup--Form" [formGroup]="form" (ngSubmit)="insertLink($event)">\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'url\')}}</label>\n        <input type="href" id="href" formControlName="src" autofocus autocomplete="off" />\n        <div *ngIf="src.touched && src.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ src.errors?.pattern && \'Please enter valid url.\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'altText\')}}</label>\n        <input type="text" formControlName="alt" autocomplete="off" />\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'title\')}}</label>\n        <input type="text" formControlName="title" autocomplete="off" />\n      </div>\n    </div>\n\n    <button type="submit" [disabled]="!form.valid || !form.dirty">{{getLabel(\'insert\')}}</button>\n\n  </form>\n</div>\n',styles:[""]}]}],Et.ctorParameters=function(){return[{type:e.ElementRef},{type:L},{type:C}]},Et.propDecorators={valid:[{type:e.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],onDocumentClick:[{type:e.HostListener,args:["document:mousedown",["$event"]]}]};var Nt=function(){function t(t,e,o){var n=this;this.el=t,this.menuService=e,this.ngxeService=o,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=function(t){var e=t.state;n.canExecute=n.command.canExecute(e),n.isActive=n.command.isActive(e),n.activeColors=[],n.isActive&&(n.activeColors=n.command.getActiveColors(e))},this.editorView=this.menuService.view,this.pluginUpdateSubscription=this.menuService.plugin.update.subscribe((function(t){n.update(t)}))}return Object.defineProperty(t.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return!this.canExecute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getLabel("text_color"===this.type?"text_color":"background_color")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return V.get("text_color"===this.type?"text_color":"color_fill")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return"text_color"===this.type?xt:bt},enumerable:!1,configurable:!0}),t.prototype.getContrastYIQ=function(t){return t=t.replace("#",""),(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3>=128?"black":"white"},t.prototype.onDocumentClick=function(t){!this.el.nativeElement.contains(t.target)&&this.showPopup&&this.hidePopup()},t.prototype.hidePopup=function(){this.showPopup=!1},t.prototype.togglePopup=function(t){t.preventDefault(),0===t.button&&(this.showPopup=!this.showPopup)},t.prototype.remove=function(t){t.preventDefault();var e=this.editorView,o=e.state,n=e.dispatch;this.command.remove()(o,n),this.hidePopup()},t.prototype.onColorSelect=function(t,e){if(t.preventDefault(),0===t.button){var o=this.editorView,n=o.state,r=o.dispatch;if("text_color"===this.type){var i={color:e};this.command.apply(i)(n,r)}else{i={backgroundColor:e};this.command.apply(i)(n,r)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}},t.prototype.getLabel=function(t){return this.ngxeService.locals.get(t)},t.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},t}();Nt.decorators=[{type:e.Component,args:[{selector:"ngx-color-picker",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="togglePopup($event)"\n  [title]="title">\n</div>\n\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <div *ngFor="let colorGroup of presets" class="NgxEditor__ColorContainer">\n    <button class="NgxEditor__Color" *ngFor="let color of colorGroup"\n      [ngStyle]="{backgroundColor: color, color:getContrastYIQ(color)}" [title]="color"\n      (mousedown)="onColorSelect($event, color)"\n      [ngClass]="{\'NgxEditor__Color--Active\': activeColors.includes(color)}"></button>\n  </div>\n\n  <button class="NgxEditor__MenuItem--Button" (mousedown)="remove($event)" [disabled]="!isActive">\n    {{getLabel(\'remove\')}}\n  </button>\n</div>\n',styles:['@charset "UTF-8";.NgxEditor__Popup{width:230px}.NgxEditor__ColorContainer{display:flex;justify-content:space-between}.NgxEditor__ColorContainer+.NgxEditor__ColorContainer{margin-top:5px}.NgxEditor__Color{border:none;border-radius:6px;flex-shrink:0;height:24px;outline:none;width:24px}.NgxEditor__Color--Active:after{content:"✔";font-size:90%}.NgxEditor__MenuItem--Button{margin-top:5px}']}]}],Nt.ctorParameters=function(){return[{type:e.ElementRef},{type:C},{type:L}]},Nt.propDecorators={presets:[{type:e.Input}],type:[{type:e.Input}],valid:[{type:e.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:e.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:e.HostListener,args:["document:mousedown",["$event"]]}]};var kt=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t){return this.sanitizer.bypassSecurityTrustHtml(t)},t}();kt.decorators=[{type:e.Pipe,args:[{name:"sanitizeHtml"}]}],kt.ctorParameters=function(){return[{type:d.DomSanitizer}]};var It=function(){};It.decorators=[{type:e.NgModule,args:[{imports:[s.CommonModule,o.ReactiveFormsModule],declarations:[kt,P,_t,yt,wt,Et,Nt],providers:[C],exports:[P]}]}];var Ct=function(){function t(t,e){this.el=t,this.renderer=e}return t.prototype.setDomPosition=function(){this.showBubble();var t=p.calculateBubblePos(this.view,this.el.nativeElement),e=t.bottom,o=t.left;this.renderer.setStyle(this.el.nativeElement,"left",o+"px"),this.renderer.setStyle(this.el.nativeElement,"bottom",e+"px")},t.prototype.showBubble=function(){this.renderer.setStyle(this.el.nativeElement,"display","flex")},t.prototype.hideBubble=function(){this.renderer.setStyle(this.el.nativeElement,"display","none")},t.prototype.removeLink=function(){var t=this.view,e=t.state,o=t.dispatch;c.removeLink()(e,o),this.view.focus()},t.prototype.update=function(){var t=this.view.state,e=t.schema,o=t.selection;if(e.marks.link&&!(o instanceof u.NodeSelection&&"image"===o.node.type.name)){var n=this.view.hasFocus(),r=p.isLinkActive(t),i=p.getSelectionMarks(t).filter((function(t){return t.type===e.marks.link}));if(n&&r){var s=N(i,1)[0];this.activeLinkItem=s,this.setDomPosition()}else this.hideBubble()}},t.prototype.ngOnInit=function(){var t=this;this.view=this.editor.view,this.updateSubscription=this.editor.onUpdate.subscribe((function(){t.update()}))},t.prototype.ngOnDestroy=function(){this.updateSubscription.unsubscribe()},t}();Ct.decorators=[{type:e.Component,args:[{selector:"ngx-bubble",template:'<ng-container *ngIf="activeLinkItem">\n  <a [href]="activeLinkItem.attrs.href" target="_blank" [title]="activeLinkItem.attrs.href">\n    {{activeLinkItem.attrs.href}}\n  </a>\n  <div class="commands">\n    <button class="command" (click)="removeLink()">Remove link</button>\n  </div>\n</ng-container>\n',styles:[':host{align-items:center;background:#fff;border:1px solid silver;border-radius:4px;display:none;margin-bottom:.3rem;padding:.3rem;position:absolute;transform:translateX(-50%);z-index:20}:host:after,:host:before{border:solid transparent;border-width:5px 5px 0;content:"";height:0;left:50%;margin-left:-5px;position:absolute;width:0}:host:before{border-top-color:silver;bottom:-6px}:host:after{border-top-color:#fff;bottom:-4.5px}:host a{display:inline-block;margin-left:2px;max-width:15rem;overflow:hidden;text-overflow:ellipsis}:host .commands{display:flex;margin-left:.5rem}:host .commands .command{background-color:#f1f1f1;border:none;border-radius:2px;display:flex;padding:2px;white-space:nowrap}:host .commands .command:hover{text-decoration:underline}']}]}],Ct.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},Ct.propDecorators={editor:[{type:e.Input}]};var Mt=new e.InjectionToken("NgxEditorConfig"),Ht=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:Mt,useValue:e},{provide:S,useFactory:T,deps:[Mt]}]}},t.forChild=function(e){return{ngModule:t,providers:[{provide:Mt,useValue:e},{provide:S,useFactory:T,deps:[Mt]},L]}},t}();Ht.decorators=[{type:e.NgModule,args:[{imports:[s.CommonModule,It],providers:[],declarations:[E,Ct],exports:[E,P]}]}];var Pt=function(t){return null===t||0===t.length},zt=Pt,Dt=function(t){return null!=t&&"number"==typeof t.length},St=Dt,Lt=function(t){if(!t)return!0;var e=t.childCount,o=t.firstChild;return Boolean(1===e&&(null==o?void 0:o.isTextblock)&&0===o.content.size)},Tt=Lt,Ot=function(){function t(){}return t.required=function(t){return function(e){var o=t||r.schema,n=w(e.value,o);return Lt(n)?{required:!0}:null}},t.maxLength=function(t,e){return function(o){var n=e||r.schema,i=w(o.value,n).textContent;return Dt(i)&&i.length>t?{maxlength:{requiredLength:t,actualLength:i.length}}:null}},t.minLength=function(t,e){return function(o){var n=e||r.schema,i=w(o.value,n).textContent;return Pt(i)||!Dt(i)?null:i.length<t?{minlength:{requiredLength:t,actualLength:i.length}}:null}},t}(),Vt=function(t,e){return void 0===e&&(e=!1),function(o,n){var r=new A(t);return e?r.toggle()(o,n):r.apply()(o,n)}},At=function(){function t(t){var e=this;if(this.applyTrx=function(t){e.state=e.state.apply(null!=t?t:e.tr),e.tr=e.state.tr,e.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=function(t){e.applyTrx(t)},!t)throw Error("NgxEditor: Required view to initialize commands.");this.view=t,this.state=t.state,this.tr=this.view.state.tr}return t.prototype.exec=function(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;var t=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);var e=this.tr.setMeta("FORCE_EMIT",t);return this.view.dispatch(e),!0},t.prototype.focus=function(){return this.view.focus(),this},t.prototype.scrollIntoView=function(){return this.tr.scrollIntoView(),this.applyTrx(),this},t.prototype.insertText=function(t){return this.tr.insertText(t),this.applyTrx(),this},t.prototype.insertNewLine=function(){var t=[a.newlineInCode,a.createParagraphNear,a.liftEmptyBlock,a.splitBlock];return a.chainCommands.apply(void 0,k(t))(this.state,this.dispatch),this},t.prototype.applyMark=function(t){return Vt(t,!1)(this.state,this.dispatch),this},t.prototype.toggleMark=function(t){return Vt(t,!0)(this.state,this.dispatch),this},t.prototype.bold=function(){return Vt("strong")(this.state,this.dispatch),this},t.prototype.toggleBold=function(){return Vt("strong",!0)(this.state,this.dispatch),this},t.prototype.italics=function(){return Vt("em")(this.state,this.dispatch),this},t.prototype.toggleItalics=function(){return Vt("em",!0)(this.state,this.dispatch),this},t.prototype.underline=function(){return Vt("u")(this.state,this.dispatch),this},t.prototype.toggleUnderline=function(){return Vt("u",!0)(this.state,this.dispatch),this},t.prototype.strike=function(){return Vt("s")(this.state,this.dispatch),this},t.prototype.toggleStrike=function(){return Vt("s",!0)(this.state,this.dispatch),this},t.prototype.code=function(){return Vt("code")(this.state,this.dispatch),this},t.prototype.toggleCode=function(){return Vt("code",!0)(this.state,this.dispatch),this},t.prototype.toggleOrderedList=function(){return new j(!1).toggle()(this.state,this.dispatch),this},t.prototype.toggleBulletList=function(){return new j(!0).toggle()(this.state,this.dispatch),this},t.prototype.toggleHeading=function(t){return new F(t).toggle()(this.state,this.dispatch),this},t.prototype.insertLink=function(t,e){return(new U).insert(t,e)(this.state,this.dispatch),this},t.prototype.updateLink=function(t){return(new U).update(t)(this.state,this.dispatch),this},t.prototype.insertImage=function(t,e){return void 0===e&&(e={}),(new $).insert(t,e)(this.state,this.dispatch),this},t.prototype.textColor=function(t){return new W("text_color").apply({color:t})(this.state,this.dispatch),this},t.prototype.backgroundColor=function(t){return new W("text_background_color").apply({backgroundColor:t})(this.state,this.dispatch),this},t.prototype.removeTextColor=function(){return new W("text_color").remove()(this.state,this.dispatch),this},t.prototype.removeBackgroundColor=function(){return new W("text_background_color").remove()(this.state,this.dispatch),this},t.prototype.align=function(t){return new B(t).toggle()(this.state,this.dispatch),this},t}(),Rt=/Mac/.test(navigator.platform),jt=function(t){return x.wrappingInputRule(/^\s*>\s$/,t)},Ft=function(t){return x.wrappingInputRule(/^(\d+)\.\s$/,t,(function(t){return{order:+t[1]}}),(function(t,e){return e.childCount+e.attrs.order===+t[1]}))},Bt=function(t){return x.wrappingInputRule(/^\s*([-+*])\s$/,t)},qt=function(t){return x.textblockTypeInputRule(/^```$/,t)},Ut=function(t,e){return x.textblockTypeInputRule(new RegExp("^(#{1,"+e+"})\\s$"),t,(function(t){return{level:t[1].length}}))},$t=function(t){var e=x.smartQuotes.concat(x.ellipsis,x.emDash);return e.push(jt(t.nodes.blockquote)),e.push(Ft(t.nodes.ordered_list)),e.push(Bt(t.nodes.bullet_list)),e.push(qt(t.nodes.code_block)),e.push(Ut(t.nodes.heading,6)),x.inputRules({rules:e})},Wt=function(t,e){var o={};o["Mod-z"]=v.undo,Rt?o["Shift-Mod-z"]=v.redo:o["Mod-y"]=v.redo;var n=[m.keymap({"Mod-b":a.toggleMark(t.marks.strong),"Mod-i":a.toggleMark(t.marks.em),"Mod-`":a.toggleMark(t.marks.code)}),m.keymap({Enter:l.splitListItem(t.nodes.list_item),"Mod-[":l.liftListItem(t.nodes.list_item),"Mod-]":l.sinkListItem(t.nodes.list_item),Tab:l.sinkListItem(t.nodes.list_item)}),m.keymap(a.baseKeymap)];return e.history&&n.push(m.keymap(o)),n},Gt=function(t,e){var o=[];return e.keyboardShortcuts&&o.push.apply(o,k(Wt(t,{history:e.history}))),e.history&&o.push(v.history()),e.inputRules&&o.push($t(t)),o},Jt={content:null,enabled:!0,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:r.schema,plugins:[],nodeViews:{}},Qt=function(){function t(t){void 0===t&&(t=Jt),this.onContentChange=new i.Subject,this.onFocus=new i.Subject,this.onBlur=new i.Subject,this.onUpdate=new i.Subject,this.options=Object.assign({},Jt,t),this.createEditor()}return Object.defineProperty(t.prototype,"schema",{get:function(){return this.options.schema||r.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commands",{get:function(){return new At(this.view)},enumerable:!1,configurable:!0}),t.prototype.setContent=function(t){if(!f.isNil(t)){var e=this.view.state,o=e.tr,n=e.doc,r=w(t,this.schema);o.replaceWith(0,e.doc.content.size,r),n.eq(o.doc)||o.docChanged&&this.view.dispatch(o)}},t.prototype.handleTransactions=function(t){var e=this.view.state.apply(t);if(this.view.updateState(e),this.onUpdate.next(),t.docChanged||t.getMeta("FORCE_EMIT")){var o=e.doc.toJSON();this.onContentChange.next(o)}},t.prototype.createEditor=function(){var t,e,o=this,n=this.options,r=n.content,i=void 0===r?null:r,s=n.nodeViews,a=n.enabled,c=n.history,p=void 0===c||c,l=n.keyboardShortcuts,d=void 0===l||l,f=n.inputRules,m=void 0===f||f,v=this.schema,x=null==a||a,b=null!==(t=n.placeholder)&&void 0!==t?t:"",_=w(i,v);this.el=document.createDocumentFragment();var y=k([g.editable(),g.placeholder(b)],null!==(e=n.plugins)&&void 0!==e?e:[]),E=Gt(v,{history:p,keyboardShortcuts:d,inputRules:m});y.push.apply(y,k(E)),this.view=new h.EditorView(this.el,{editable:function(){return x},state:u.EditorState.create({doc:_,schema:v,plugins:y}),nodeViews:s,dispatchTransaction:this.handleTransactions.bind(this),handleDOMEvents:{focus:function(){return o.onFocus.next(),!1},blur:function(){return o.onBlur.next(),!1}},attributes:{class:"NgxEditor__Content"}})},t.prototype.registerPlugin=function(t){var e=this.view.state,o=k(e.plugins,[t]),n=e.reconfigure({plugins:o});this.view.updateState(n)},t.prototype.enable=function(){var t=this.view;(0,t.dispatch)(t.state.tr.setMeta("UPDATE_EDITABLE",!0))},t.prototype.disable=function(){var t=this.view;(0,t.dispatch)(t.state.tr.setMeta("UPDATE_EDITABLE",!1))},t.prototype.setPlaceholder=function(t){var e=this.view;(0,e.dispatch)(e.state.tr.setMeta("UPDATE_PLACEHOLDER",t))},t.prototype.destroy=function(){this.view.destroy()},t}();Object.defineProperty(t,"marks",{enumerable:!0,get:function(){return r.marks}}),Object.defineProperty(t,"nodes",{enumerable:!0,get:function(){return r.nodes}}),Object.defineProperty(t,"schema",{enumerable:!0,get:function(){return r.schema}}),t.Editor=Qt,t.MenuComponent=P,t.NgxEditorComponent=E,t.NgxEditorModule=Ht,t.Validators=Ot,t.emptyDoc=b,t.parseContent=w,t.toDoc=y,t.toHTML=_,t.ɵ0=zt,t.ɵ1=St,t.ɵ2=Tt,t.ɵa=C,t.ɵb=It,t.ɵc=kt,t.ɵd=_t,t.ɵe=S,t.ɵf=L,t.ɵg=T,t.ɵh=yt,t.ɵi=wt,t.ɵj=Et,t.ɵk=Nt,t.ɵl=Ct,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-editor.umd.min.js.map