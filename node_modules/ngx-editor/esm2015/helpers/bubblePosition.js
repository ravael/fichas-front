export const calculateBubblePos = (view, toolTipEl) => {
    const { state: { selection } } = view;
    const { from, to } = selection;
    // These are in screen coordinates
    const start = view.coordsAtPos(from);
    const end = view.coordsAtPos(to);
    // The box in which the tooltip is positioned, to use as base
    const parent = toolTipEl.offsetParent;
    const box = parent.getBoundingClientRect();
    // Find a center-ish x position from the selection endpoints (when
    // crossing lines, end may be more to the left)
    const left = Math.max((start.left + end.left) / 2, start.left + 3);
    return {
        left: left - box.left,
        bottom: box.bottom - start.top
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnViYmxlUG9zaXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvaGVscGVycy9idWJibGVQb3NpdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLElBQWdCLEVBQUUsU0FBc0IsRUFBbUIsRUFBRTtJQUM5RixNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDdEMsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxTQUFTLENBQUM7SUFFL0Isa0NBQWtDO0lBQ2xDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUVqQyw2REFBNkQ7SUFDN0QsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLFlBQVksQ0FBQztJQUN0QyxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMscUJBQXFCLEVBQUUsQ0FBQztJQUUzQyxrRUFBa0U7SUFDbEUsK0NBQStDO0lBQy9DLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztJQUVuRSxPQUFPO1FBQ0wsSUFBSSxFQUFFLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSTtRQUNyQixNQUFNLEVBQUUsR0FBRyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRztLQUMvQixDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ3Byb3NlbWlycm9yLXZpZXcnO1xuXG5pbnRlcmZhY2UgVG9vbHRpcFBvc2l0aW9uIHtcbiAgYm90dG9tOiBudW1iZXI7XG4gIGxlZnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZUJ1YmJsZVBvcyA9ICh2aWV3OiBFZGl0b3JWaWV3LCB0b29sVGlwRWw6IEhUTUxFbGVtZW50KTogVG9vbHRpcFBvc2l0aW9uID0+IHtcbiAgY29uc3QgeyBzdGF0ZTogeyBzZWxlY3Rpb24gfSB9ID0gdmlldztcbiAgY29uc3QgeyBmcm9tLCB0byB9ID0gc2VsZWN0aW9uO1xuXG4gIC8vIFRoZXNlIGFyZSBpbiBzY3JlZW4gY29vcmRpbmF0ZXNcbiAgY29uc3Qgc3RhcnQgPSB2aWV3LmNvb3Jkc0F0UG9zKGZyb20pO1xuICBjb25zdCBlbmQgPSB2aWV3LmNvb3Jkc0F0UG9zKHRvKTtcblxuICAvLyBUaGUgYm94IGluIHdoaWNoIHRoZSB0b29sdGlwIGlzIHBvc2l0aW9uZWQsIHRvIHVzZSBhcyBiYXNlXG4gIGNvbnN0IHBhcmVudCA9IHRvb2xUaXBFbC5vZmZzZXRQYXJlbnQ7XG4gIGNvbnN0IGJveCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAvLyBGaW5kIGEgY2VudGVyLWlzaCB4IHBvc2l0aW9uIGZyb20gdGhlIHNlbGVjdGlvbiBlbmRwb2ludHMgKHdoZW5cbiAgLy8gY3Jvc3NpbmcgbGluZXMsIGVuZCBtYXkgYmUgbW9yZSB0byB0aGUgbGVmdClcbiAgY29uc3QgbGVmdCA9IE1hdGgubWF4KChzdGFydC5sZWZ0ICsgZW5kLmxlZnQpIC8gMiwgc3RhcnQubGVmdCArIDMpO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogbGVmdCAtIGJveC5sZWZ0LFxuICAgIGJvdHRvbTogYm94LmJvdHRvbSAtIHN0YXJ0LnRvcFxuICB9O1xufTtcbiJdfQ==